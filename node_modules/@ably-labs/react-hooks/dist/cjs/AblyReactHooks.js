"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.assertConfiguration = exports.configureAbly = exports.provideSdkInstance = exports.Realtime = void 0;
const ably_1 = __importDefault(require("ably"));
const version = "2.1.1";
let sdkInstance = null;
class Realtime extends ably_1.default.Realtime.Promise {
    constructor(options) {
        if (typeof options === "string") {
            options = {
                key: options,
            };
        }
        options.agents = { 'react-hooks': version };
        super(options);
    }
}
exports.Realtime = Realtime;
function provideSdkInstance(ablyInstance) {
    sdkInstance = ablyInstance;
}
exports.provideSdkInstance = provideSdkInstance;
function configureAbly(ablyConfigurationObject) {
    return sdkInstance || (sdkInstance = new Realtime(ablyConfigurationObject));
}
exports.configureAbly = configureAbly;
function assertConfiguration() {
    if (!sdkInstance) {
        throw new Error('Ably not configured - please call configureAbly({ key: "your-api-key", clientId: "someid" });');
    }
    return sdkInstance;
}
exports.assertConfiguration = assertConfiguration;
//# sourceMappingURL=AblyReactHooks.js.map